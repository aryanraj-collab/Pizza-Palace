<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pizza Palace | Wood-Fired Perfection</title>
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@400;700&family=Lato:wght@300;400;700&display=swap" rel="stylesheet">
    
    <style>
        /* --- 1. THEME SETTINGS (Wood-Fired Ember) --- */
        :root {
            /* The "Fire" Colors */
            --primary: #FF5722;   /* Deep Ember Orange */
            --accent: #FFC107;    /* Cheese Gold */
            
            /* The "Stone" Colors (Dark Mode Default) */
            --bg-body: #121212;   /* Deep Charcoal */
            --bg-card: #1E1E1E;   /* Lighter Charcoal */
            --text-main: #FFFFFF;
            --text-muted: #B0B0B0;
            
            --nav-glass: rgba(18, 18, 18, 0.95);
            --border: 1px solid rgba(255, 87, 34, 0.2);
            --shadow: 0 8px 30px rgba(0,0,0,0.5);
        }

        /* Light Mode Override (triggered by JS) */
        [data-theme="light"] {
            --bg-body: #FFF8F0;   /* Warm Dough Cream */
            --bg-card: #FFFFFF;
            --text-main: #2D2D2D;
            --text-muted: #666666;
            --nav-glass: rgba(255, 248, 240, 0.95);
            --border: 1px solid rgba(0,0,0,0.1);
            --shadow: 0 8px 30px rgba(0,0,0,0.1);
        }

        /* --- 2. GLOBAL STYLES --- */
        * { box-sizing: border-box; margin: 0; padding: 0; transition: background 0.3s, color 0.3s; }
        body {
            font-family: 'Lato', sans-serif;
            background-color: var(--bg-body);
            color: var(--text-main);
            overflow-x: hidden;
        }
        h1, h2, h3 { font-family: 'Oswald', sans-serif; text-transform: uppercase; letter-spacing: 1px; }
        button { font-family: 'Oswald', sans-serif; cursor: pointer; }

        /* --- 3. PARTICLE CANVAS --- */
        #ember-canvas {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: -1; pointer-events: none;
        }

        /* --- 4. NAVIGATION --- */
        .navbar {
            position: sticky; top: 0; z-index: 1000;
            background: var(--nav-glass);
            backdrop-filter: blur(10px);
            padding: 1rem 5%;
            display: flex; justify-content: space-between; align-items: center;
            border-bottom: var(--border);
        }
        .logo { 
            font-size: 1.8rem; font-weight: bold; color: var(--primary); 
            text-shadow: 0 0 10px rgba(255, 87, 34, 0.4);
        }
        .nav-items { display: flex; gap: 20px; align-items: center; list-style: none; }
        .nav-btn {
            background: none; border: none; color: var(--text-main);
            font-size: 1rem; text-transform: uppercase; letter-spacing: 1px;
        }
        .nav-btn:hover, .nav-btn.active { color: var(--primary); }
        
        .cart-wrapper { position: relative; cursor: pointer; }
        .cart-badge {
            position: absolute; top: -8px; right: -10px;
            background: var(--accent); color: #000;
            font-size: 0.7rem; padding: 2px 6px; border-radius: 50%; font-weight: bold;
        }
        
        .theme-switch { font-size: 1.2rem; background: none; border: none; cursor: pointer; }

        /* --- 5. PAGE SECTIONS (SPA) --- */
        .section { display: none; padding: 100px 5%; animation: fadeUp 0.6s ease; min-height: 80vh; }
        .section.active { display: block; }
        @keyframes fadeUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        /* HERO (Home) */
        #home {
            display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center;
            background: radial-gradient(circle at center, rgba(255, 87, 34, 0.1) 0%, transparent 70%);
        }
        #home.active { display: flex; } /* Flex override */
        .hero-title { font-size: 5rem; line-height: 1; margin-bottom: 1rem; }
        .hero-subtitle { font-size: 1.5rem; color: var(--text-muted); margin-bottom: 2rem; }
        .btn-primary {
            padding: 1rem 3rem; background: var(--primary); color: white; border: none;
            font-size: 1.2rem; clip-path: polygon(10% 0, 100% 0, 100% 100%, 0% 100%);
            transition: 0.3s;
        }
        .btn-primary:hover { background: var(--accent); color: #000; clip-path: polygon(0 0, 100% 0, 100% 100%, 0% 100%); }

        /* MENU GRID */
        .menu-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 2rem; }
        .card {
            background: var(--bg-card); border: var(--border); border-radius: 12px;
            overflow: hidden; transition: 0.3s; box-shadow: var(--shadow);
        }
        .card:hover { transform: translateY(-10px); border-color: var(--primary); }
        .card img { width: 100%; height: 200px; object-fit: cover; }
        .card-body { padding: 1.5rem; }
        .card-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem; }
        .price { color: var(--accent); font-size: 1.2rem; font-weight: bold; }
        .btn-add {
            width: 100%; padding: 0.8rem; margin-top: 1rem;
            background: transparent; border: 1px solid var(--text-muted); color: var(--text-main);
            border-radius: 4px; transition: 0.3s;
        }
        .btn-add:hover { background: var(--primary); border-color: var(--primary); color: white; }

        /* HISTORY LAYOUT */
        .split-layout { display: flex; gap: 3rem; align-items: center; margin-bottom: 5rem; }
        .split-layout:nth-child(even) { flex-direction: row-reverse; }
        .split-img { flex: 1; border-radius: 12px; overflow: hidden; box-shadow: var(--shadow); }
        .split-img img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.5s; }
        .split-img:hover img { transform: scale(1.1); }
        .split-text { flex: 1; }
        .split-text h2 { font-size: 2.5rem; color: var(--primary); margin-bottom: 1rem; }

        /* --- 6. CART SIDEBAR --- */
        .sidebar {
            position: fixed; top: 0; right: -400px; width: 350px; height: 100%;
            background: var(--bg-card); z-index: 2000; padding: 2rem;
            box-shadow: -10px 0 30px rgba(0,0,0,0.8); transition: right 0.3s cubic-bezier(0.77, 0.2, 0.05, 1.0);
            display: flex; flex-direction: column; border-left: 1px solid var(--primary);
        }
        .sidebar.open { right: 0; }
        .cart-items { flex-grow: 1; overflow-y: auto; margin: 20px 0; }
        .cart-item { display: flex; justify-content: space-between; margin-bottom: 1rem; border-bottom: 1px solid #333; padding-bottom: 10px; }
        .btn-whatsapp {
            background: #25D366; color: white; width: 100%; padding: 1rem;
            border: none; font-size: 1rem; display: flex; align-items: center; justify-content: center; gap: 10px;
        }

        /* RESPONSIVE */
        @media (max-width: 768px) {
            .hero-title { font-size: 3.5rem; }
            .split-layout, .split-layout:nth-child(even) { flex-direction: column; }
            .sidebar { width: 100%; right: -100%; }
        }
    </style>
</head>
<body data-theme="dark">

    <canvas id="ember-canvas"></canvas>

    <nav class="navbar">
        <div class="logo">PIZZA PALACE.</div>
        <ul class="nav-items">
            <li><button class="nav-btn active" onclick="nav('home')">Home</button></li>
            <li><button class="nav-btn" onclick="nav('menu')">Menu</button></li>
            <li><button class="nav-btn" onclick="nav('history')">History</button></li>
            <li class="cart-wrapper" onclick="toggleCart()">
                üõí <span class="cart-badge" id="cart-count">0</span>
            </li>
            <li><button class="theme-switch" onclick="toggleTheme()">‚òÄÔ∏è</button></li>
        </ul>
    </nav>

    <section id="home" class="section active">
        <h1 class="hero-title">WOOD FIRED<br><span style="color:var(--primary)">SOUL</span></h1>
        <p class="hero-subtitle">Authentic Neapolitan tradition in every slice.</p>
        <button class="btn-primary" onclick="nav('menu')">VIEW MENU</button>
    </section>

    <section id="menu" class="section">
        <h2 style="text-align: center; margin-bottom: 3rem; font-size: 3rem;">FROM THE OVEN</h2>
        <div class="menu-grid">
            <div class="card">
                <img src="https://images.unsplash.com/photo-1574071318508-1cdbab80d002?q=80&w=500&auto=format&fit=crop">
                <div class="card-body">
                    <div class="card-header">
                        <h3>Margherita DOC</h3>
                        <span class="price">$14</span>
                    </div>
                    <p style="color:var(--text-muted); font-size:0.9rem;">San Marzano tomatoes, Buffalo Mozzarella, fresh basil.</p>
                    <button class="btn-add" onclick="addToCart('Margherita DOC', 14)">ADD TO CART</button>
                </div>
            </div>
            <div class="card">
                <img src="https://images.unsplash.com/photo-1628840042765-356cda07504e?q=80&w=500&auto=format&fit=crop">
                <div class="card-body">
                    <div class="card-header">
                        <h3>Double Pepperoni</h3>
                        <span class="price">$18</span>
                    </div>
                    <p style="color:var(--text-muted); font-size:0.9rem;">Crispy pepperoni cups, chili honey glaze, parmesan.</p>
                    <button class="btn-add" onclick="addToCart('Double Pepperoni', 18)">ADD TO CART</button>
                </div>
            </div>
            <div class="card">
                <img src="https://images.unsplash.com/photo-1513104890138-7c749659a591?q=80&w=500&auto=format&fit=crop">
                <div class="card-body">
                    <div class="card-header">
                        <h3>Truffle & Mushroom</h3>
                        <span class="price">$20</span>
                    </div>
                    <p style="color:var(--text-muted); font-size:0.9rem;">White base, wild mushrooms, truffle oil, thyme.</p>
                    <button class="btn-add" onclick="addToCart('Truffle Mushroom', 20)">ADD TO CART</button>
                </div>
            </div>
        </div>
    </section>

    <section id="history" class="section">
        <div class="split-layout">
            <div class="split-text">
                <h2>BORN IN NAPLES</h2>
                <p style="color:var(--text-muted); line-height:1.8;">
                    Pizza isn't just food; it's history. In 1889, pizzaiolo Raffaele Esposito created the Margherita to honor the Queen of Italy. We respect that legacy by using only 00 flour, fermenting our dough for 48 hours, and cooking at 900¬∞F.
                </p>
            </div>
            <div class="split-img">
                <img src="https://images.unsplash.com/photo-1590947132387-155cc02f3212?q=80&w=800&auto=format&fit=crop">
            </div>
        </div>
        <div class="split-layout">
            <div class="split-text">
                <h2>THE CHEESE CRAFT</h2>
                <p style="color:var(--text-muted); line-height:1.8;">
                    Our Mozzarella isn't mass-produced. It's "Fior di Latte," stretched by hand every morning. The elasticity, the milky flavor, and the perfect melt are signs of true artisan cheese making.
                </p>
            </div>
            <div class="split-img">
                <img src="https://images.unsplash.com/photo-1552590635-27c2c2128abf?q=80&w=800&auto=format&fit=crop">
            </div>
        </div>
    </section>

    <div class="sidebar" id="sidebar">
        <div style="display:flex; justify-content:space-between; align-items:center;">
            <h2>YOUR ORDER</h2>
            <button onclick="toggleCart()" style="background:none; border:none; color:white; font-size:2rem;">&times;</button>
        </div>
        <div class="cart-items" id="cart-container"></div>
        <div style="border-top:1px solid #333; padding-top:20px;">
            <div style="display:flex; justify-content:space-between; font-size:1.5rem; margin-bottom:20px;">
                <span>Total:</span>
                <span style="color:var(--primary)">$<span id="cart-total">0</span></span>
            </div>
            <button class="btn-whatsapp" onclick="checkout()">
                ORDER ON WHATSAPP <span>‚û§</span>
            </button>
        </div>
    </div>

    <script>
        // --- 1. SPA NAVIGATION ---
        function nav(id) {
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            window.scrollTo(0,0);
        }

        // --- 2. THEME TOGGLE ---
        function toggleTheme() {
            const body = document.body;
            const current = body.getAttribute('data-theme');
            const next = current === 'dark' ? 'light' : 'dark';
            body.setAttribute('data-theme', next);
            document.querySelector('.theme-switch').innerText = next === 'dark' ? '‚òÄÔ∏è' : 'üåô';
        }

        // --- 3. CART LOGIC (With LocalStorage) ---
        let cart = JSON.parse(localStorage.getItem('myPizzaCart')) || [];
        
        function updateUI() {
            const container = document.getElementById('cart-container');
            const totalEl = document.getElementById('cart-total');
            const countEl = document.getElementById('cart-count');
            
            container.innerHTML = '';
            let total = 0;
            
            cart.forEach((item, idx) => {
                total += item.price;
                container.innerHTML += `
                    <div class="cart-item">
                        <div>
                            <div style="font-weight:bold">${item.name}</div>
                            <div style="color:var(--text-muted); font-size:0.9rem">$${item.price}</div>
                        </div>
                        <button onclick="remove(${idx})" style="color:#ff4444; background:none; border:none;">Remove</button>
                    </div>
                `;
            });
            
            totalEl.innerText = total;
            countEl.innerText = cart.length;
            localStorage.setItem('myPizzaCart', JSON.stringify(cart));
        }

        function addToCart(name, price) {
            cart.push({name, price});
            updateUI();
            document.getElementById('sidebar').classList.add('open');
        }

        function remove(idx) {
            cart.splice(idx, 1);
            updateUI();
        }

        function toggleCart() {
            document.getElementById('sidebar').classList.toggle('open');
        }

        function checkout() {
            if(cart.length === 0) return alert("Cart is empty!");
            let msg = "Hello Pizza Palace! I'd like to order:%0A";
            let total = 0;
            cart.forEach(i => { msg += `- ${i.name} ($${i.price})%0A`; total += i.price; });
            msg += `%0A*TOTAL: $${total}*`;
            window.open(`https://wa.me/919876543210?text=${msg}`, '_blank');
        }

        updateUI();

        // --- 4. RISING EMBERS PARTICLE EFFECT ---
        const canvas = document.getElementById('ember-canvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        let particles = [];
        class Ember {
            constructor() {
                this.x = Math.random() * canvas.width;
                this.y = canvas.height + Math.random() * 100; // Start below screen
                this.size = Math.random() * 3 + 1;
                this.speedY = Math.random() * 1 + 0.5; // Move UP
                this.speedX = Math.random() * 0.5 - 0.25; // Slight drift
                this.color = `rgba(255, ${Math.floor(Math.random()*100 + 50)}, 0, ${Math.random()*0.5 + 0.2})`; // Orange/Yellow
            }
            update() {
                this.y -= this.speedY; // Move Up
                this.x += this.speedX;
                if (this.size > 0.1) this.size -= 0.01; // Fade out
                
                // Reset if disappears or goes off top
                if (this.y < 0 || this.size <= 0.1) {
                    this.y = canvas.height + 10;
                    this.x = Math.random() * canvas.width;
                    this.size = Math.random() * 3 + 1;
                }
            }
            draw() {
                ctx.fillStyle = this.color;
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fill();
            }
        }

        function init() { for(let i=0; i<70; i++) particles.push(new Ember()); }
        function animate() {
            ctx.clearRect(0,0,canvas.width, canvas.height);
            particles.forEach(p => { p.update(); p.draw(); });
            requestAnimationFrame(animate);
        }
        init(); animate();
        window.onresize = () => { canvas.width=window.innerWidth; canvas.height=window.innerHeight; };
    </script>
</body>
</html>
